// ==UserScript==
// @name		CodeUp+
// @description	CodeUp+
// @version		0.1.1
// @icon		https://icons.duckduckgo.com/ip2/codeup.kr.ico
// @updateURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @downloadURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @match		https://*.codeup.kr/*
// @run-at		document-end
// ==/UserScript==
var g=document.querySelector("input#problem_id").value,d=1e3*60*30,c="editor",l=`${c}_${g}`,i=e=>{let o=`${c}_EXPIRES`;if(e!==void 0)localStorage.setItem(o,e.toString());else{let t=localStorage.getItem(o);if(t===null)return;Date.now()>+t&&localStorage.clear()}},u=()=>JSON.parse(localStorage.getItem(l)),m=e=>{i(Date.now()+d),localStorage.setItem(l,JSON.stringify(e))};console.log(i());(({editor:e})=>{if(location.pathname!=="/submitpage.php")return;let o=e.textInput.getElement(),t=u(),n=s=>{let{row:a,column:r}=e.selection.getCursor(),p=e.session.getValue();a!==0&&r!==0&&m({code:p,cursor:{row:a,column:r}})};if(e.setOptions({useSoftTabs:!1}),e.on("click",n),o.addEventListener("keydown",n),t===null){let s=`#include <stdio.h>

int main() {
	
	
	return 0;
}`;e.session.setValue(`${s}`),e.gotoLine(4,1)}else e.session.setValue(`${t.code}`),e.gotoLine(t.cursor.row+1,t.cursor.column);e.focus()})(unsafeWindow);
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3VzZXJzY3JpcHQvbW9kdWxlcy9zYXZlZC50cyIsICIuLi9zcmMvdXNlcnNjcmlwdC9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBTYXZlZCB9IGZyb20gXCIuL0B0eXBlcy9zYXZlZC5qc1wiO1xyXG5cclxuXHJcblxyXG5jb25zdCBwcm9ibGVtTnVtYmVyID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNwcm9ibGVtX2lkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5leHBvcnQgY29uc3QgZXhwaXJlRGF0ZSA9IDEwMDAgKiA2MCAqIDMwOyAvLyAxODAwMDAwbXMgPT0gMzDrtoRcclxuZXhwb3J0IGNvbnN0IHN0b3JhZ2VOUyA9IFwiZWRpdG9yXCI7XHJcbmV4cG9ydCBjb25zdCBzdG9yYWdlTmFtZSA9IGAke3N0b3JhZ2VOU31fJHtwcm9ibGVtTnVtYmVyfWA7XHJcbmV4cG9ydCBjb25zdCBfaW5pdFN0b3JhZ2UgPSAodmFsdWU/OiBudW1iZXIpOiB2b2lkID0+IHtcclxuXHRjb25zdCBfc3RvcmFnZU5hbWUgPSBgJHtzdG9yYWdlTlN9X0VYUElSRVNgO1xyXG5cclxuXHRpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShfc3RvcmFnZU5hbWUsIHZhbHVlLnRvU3RyaW5nKCkpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjb25zdCBleHBpcmVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oX3N0b3JhZ2VOYW1lKTtcclxuXHRcdGlmKGV4cGlyZXMgPT09IG51bGwpIHJldHVybjtcclxuXHJcblx0XHRpZihEYXRlLm5vdygpID4gK2V4cGlyZXMpIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xyXG5cdH1cclxufTtcclxuZXhwb3J0IGNvbnN0IGdldFNhdmVkID0gKCk6IFNhdmVkIHwgbnVsbCA9PiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VOYW1lKSEpO1xyXG5leHBvcnQgY29uc3Qgc2V0U2F2ZWQgPSAob2JqOiBTYXZlZCk6IHZvaWQgPT4ge1xyXG5cdF9pbml0U3RvcmFnZShEYXRlLm5vdygpICsgZXhwaXJlRGF0ZSk7XHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZU5hbWUsIEpTT04uc3RyaW5naWZ5KG9iaikpO1xyXG59O1xyXG5cclxuLy8g66eM66OM65CcIOuNsOydtO2EsCDsoJXrpqxcclxuY29uc29sZS5sb2coX2luaXRTdG9yYWdlKCkpOyIsICJpbXBvcnQgeyBnZXRTYXZlZCwgc2V0U2F2ZWQgfSBmcm9tIFwiLi9tb2R1bGVzL3NhdmVkLmpzXCI7XHJcblxyXG5cclxuXHJcbigoeyBlZGl0b3IgfSkgPT4ge1xyXG5cdGlmKGxvY2F0aW9uLnBhdGhuYW1lICE9PSBcIi9zdWJtaXRwYWdlLnBocFwiKSByZXR1cm47XHJcblx0Ly9AdHMtZXhwZWN0LWVycm9yXHJcblx0Y29uc3QgZWRpdG9yRWxlbWVudCA9IGVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcblx0Y29uc3Qgc2F2ZWQgPSBnZXRTYXZlZCgpO1xyXG5cclxuXHRjb25zdCBvbklucHV0ID0gKGV2ZW50OiBBY2VBamF4LkVkaXRvckNoYW5nZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3QgeyByb3csIGNvbHVtbiB9ID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRDdXJzb3IoKTtcclxuXHRcdGNvbnN0IGN1cnJlbnRDb2RlID0gZWRpdG9yLnNlc3Npb24uZ2V0VmFsdWUoKTtcclxuXHJcblx0XHRpZihyb3cgIT09IDAgJiYgY29sdW1uICE9PSAwKSB7XHJcblx0XHRcdHNldFNhdmVkKHtcclxuXHRcdFx0XHRjb2RlOiBjdXJyZW50Q29kZSxcclxuXHRcdFx0XHRjdXJzb3I6IHtcclxuXHRcdFx0XHRcdHJvdzogcm93LFxyXG5cdFx0XHRcdFx0Y29sdW1uOiBjb2x1bW5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHRlZGl0b3Iuc2V0T3B0aW9ucyh7dXNlU29mdFRhYnM6IGZhbHNlfSk7XHJcblx0ZWRpdG9yLm9uKCdjbGljaycsIG9uSW5wdXQpO1xyXG5cdC8vZWRpdG9yLm9uKCdjaGFuZ2UnLCBvbklucHV0KTtcclxuXHRlZGl0b3JFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbklucHV0KTtcclxuXHJcblx0aWYoc2F2ZWQgPT09IG51bGwpIHtcclxuXHRcdGNvbnN0IGNvZGUgPSBgI2luY2x1ZGUgPHN0ZGlvLmg+XHJcblxyXG5pbnQgbWFpbigpIHtcclxuXFx0XHJcblxcdFxyXG5cXHRyZXR1cm4gMDtcclxufWA7XHJcblx0XHRlZGl0b3Iuc2Vzc2lvbi5zZXRWYWx1ZShgJHtjb2RlfWApO1xyXG5cdFx0ZWRpdG9yLmdvdG9MaW5lKDQsIDEpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlZGl0b3Iuc2Vzc2lvbi5zZXRWYWx1ZShgJHtzYXZlZC5jb2RlfWApO1xyXG5cdFx0ZWRpdG9yLmdvdG9MaW5lKHNhdmVkLmN1cnNvci5yb3cgKyAxLCBzYXZlZC5jdXJzb3IuY29sdW1uKTtcclxuXHR9XHJcblx0ZWRpdG9yLmZvY3VzKCk7XHJcbn0pKHVuc2FmZVdpbmRvdyk7Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7OztBQUlBLElBQU1BLEVBQWlCLFNBQVMsY0FBYyxrQkFBa0IsRUFBdUIsTUFDMUVDLEVBQWEsSUFBTyxHQUFLLEdBQ3pCQyxFQUFZLFNBQ1pDLEVBQWMsR0FBR0QsS0FBYUYsSUFDOUJJLEVBQWdCQyxHQUF5QixDQUNyRCxJQUFNQyxFQUFlLEdBQUdKLFlBRXhCLEdBQUdHLElBQVUsT0FDWixhQUFhLFFBQVFDLEVBQWNELEVBQU0sU0FBUyxDQUFDLE1BQzdDLENBQ04sSUFBTUUsRUFBVSxhQUFhLFFBQVFELENBQVksRUFDakQsR0FBR0MsSUFBWSxLQUFNLE9BRWxCLEtBQUssSUFBSSxFQUFJLENBQUNBLEdBQVMsYUFBYSxNQUFNLEVBRS9DLEVBQ2FDLEVBQVcsSUFBb0IsS0FBSyxNQUFNLGFBQWEsUUFBUUwsQ0FBVyxDQUFFLEVBQzVFTSxFQUFZQyxHQUFxQixDQUM3Q04sRUFBYSxLQUFLLElBQUksRUFBSUgsQ0FBVSxFQUNwQyxhQUFhLFFBQVFFLEVBQWEsS0FBSyxVQUFVTyxDQUFHLENBQUMsQ0FDdEQsRUFHQSxRQUFRLElBQUlOLEVBQWEsQ0FBQyxHQ3ZCekIsQ0FBQyxDQUFFLE9BQUFPLENBQU8sSUFBTSxDQUNoQixHQUFHLFNBQVMsV0FBYSxrQkFBbUIsT0FFNUMsSUFBTUMsRUFBZ0JELEVBQU8sVUFBVSxXQUFXLEVBQzVDRSxFQUFRQyxFQUFTLEVBRWpCQyxFQUFXQyxHQUEyRCxDQUMzRSxHQUFNLENBQUUsSUFBQUMsRUFBSyxPQUFBQyxDQUFPLEVBQUlQLEVBQU8sVUFBVSxVQUFVLEVBQzdDUSxFQUFjUixFQUFPLFFBQVEsU0FBUyxFQUV6Q00sSUFBUSxHQUFLQyxJQUFXLEdBQzFCRSxFQUFTLENBQ1IsS0FBTUQsRUFDTixPQUFRLENBQ1AsSUFBS0YsRUFDTCxPQUFRQyxDQUNULENBQ0QsQ0FBQyxDQUVILEVBUUEsR0FMQVAsRUFBTyxXQUFXLENBQUMsWUFBYSxFQUFLLENBQUMsRUFDdENBLEVBQU8sR0FBRyxRQUFTSSxDQUFPLEVBRTFCSCxFQUFjLGlCQUFpQixVQUFXRyxDQUFPLEVBRTlDRixJQUFVLEtBQU0sQ0FDbEIsSUFBTVEsRUFBTztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQU9iVixFQUFPLFFBQVEsU0FBUyxHQUFHVSxHQUFNLEVBQ2pDVixFQUFPLFNBQVMsRUFBRyxDQUFDLE9BRXBCQSxFQUFPLFFBQVEsU0FBUyxHQUFHRSxFQUFNLE1BQU0sRUFDdkNGLEVBQU8sU0FBU0UsRUFBTSxPQUFPLElBQU0sRUFBR0EsRUFBTSxPQUFPLE1BQU0sRUFFMURGLEVBQU8sTUFBTSxDQUNkLEdBQUcsWUFBWSIsCiAgIm5hbWVzIjogWyJwcm9ibGVtTnVtYmVyIiwgImV4cGlyZURhdGUiLCAic3RvcmFnZU5TIiwgInN0b3JhZ2VOYW1lIiwgIl9pbml0U3RvcmFnZSIsICJ2YWx1ZSIsICJfc3RvcmFnZU5hbWUiLCAiZXhwaXJlcyIsICJnZXRTYXZlZCIsICJzZXRTYXZlZCIsICJvYmoiLCAiZWRpdG9yIiwgImVkaXRvckVsZW1lbnQiLCAic2F2ZWQiLCAiZ2V0U2F2ZWQiLCAib25JbnB1dCIsICJldmVudCIsICJyb3ciLCAiY29sdW1uIiwgImN1cnJlbnRDb2RlIiwgInNldFNhdmVkIiwgImNvZGUiXQp9Cg==
