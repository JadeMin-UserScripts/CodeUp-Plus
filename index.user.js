// ==UserScript==
// @name		CodeUp+
// @description	CodeUp+
// @version		0.1.1
// @icon		https://icons.duckduckgo.com/ip2/codeup.kr.ico
// @updateURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @downloadURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @match		https://*.codeup.kr/*
// @run-at		document-end
// ==/UserScript==
var{editor:S}=unsafeWindow,p=document.querySelector("input#problem_id").value,o=`editor_${p}`,u=()=>JSON.parse(localStorage.getItem(o)),v=()=>localStorage.removeItem(o),m=()=>{let e=u();return e===null?null:Date.now()>e.expires?(v(),!0):null},c=()=>{let e=u();return e===null?null:e.value},i=(e,n)=>localStorage.setItem(o,JSON.stringify({value:e,expires:Date.now()+n}));m();(({editor:e})=>{if(location.pathname!=="/submitpage.php")return;let n=e.textInput.getElement(),t=c(),s=r=>{let{row:a,column:l}=e.selection.getCursor(),d=e.session.getValue();a!==0&&l!==0&&i({code:d,cursor:{row:a,column:l}},18e5)};if(e.setOptions({useSoftTabs:!1}),e.on("click",s),n.addEventListener("keydown",s),t===null){let r=`#include <stdio.h>

int main() {
	
	
	return 0;
}`;e.session.setValue(`${r}`),e.gotoLine(4,1)}else e.session.setValue(`${t.code}`),e.gotoLine(t.cursor.row+1,t.cursor.column);e.focus()})(unsafeWindow);
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21vZHVsZXMvc2F2ZWQudHMiLCAiLi4vc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgdHlwZSB7IFNhdmVkLCBTYXZlZFdpdGhFeHBpcmVzIH0gZnJvbSBcIi4vQHR5cGVzL3NhdmVkLmpzXCI7XHJcblxyXG5jb25zdCB7IGVkaXRvciB9ID0gdW5zYWZlV2luZG93O1xyXG5cclxuXHJcblxyXG5jb25zdCBwcm9ibGVtTnVtYmVyID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNwcm9ibGVtX2lkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5leHBvcnQgY29uc3Qgc3RvcmFnZU5hbWUgPSBgZWRpdG9yXyR7cHJvYmxlbU51bWJlcn1gO1xyXG5leHBvcnQgY29uc3QgX2dldFNhdmVkID0gKCk6IFNhdmVkV2l0aEV4cGlyZXMgfCBudWxsID0+IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZU5hbWUpISk7XHJcbmV4cG9ydCBjb25zdCBfcmVtb3ZlU2F2ZWQgPSAoKTogdm9pZCA9PiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlTmFtZSk7XHJcbmV4cG9ydCBjb25zdCBfY2xlYW5TYXZlZCA9ICgpOiB0cnVlIHwgbnVsbCA9PiB7XHJcblx0Y29uc3Qgc2F2ZWQgPSBfZ2V0U2F2ZWQoKTtcclxuXHJcblx0aWYoc2F2ZWQgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cdGlmKERhdGUubm93KCkgPiBzYXZlZC5leHBpcmVzKSB7XHJcblx0XHRfcmVtb3ZlU2F2ZWQoKTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0gZWxzZSByZXR1cm4gbnVsbDtcclxufTtcclxuZXhwb3J0IGNvbnN0IGdldFNhdmVkID0gKCk6IFNhdmVkIHwgbnVsbCA9PiB7XHJcblx0Y29uc3Qgc2F2ZWQgPSBfZ2V0U2F2ZWQoKTtcclxuXHRpZihzYXZlZCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG5cdHJldHVybiBzYXZlZC52YWx1ZTtcclxufTtcclxuZXhwb3J0IGNvbnN0IHNldFNhdmVkID0gKG9iajogU2F2ZWQsIGV4cGlyZURhdGU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdHJldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlTmFtZSwgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0dmFsdWU6IG9iaixcclxuXHRcdGV4cGlyZXM6IERhdGUubm93KCkgKyBleHBpcmVEYXRlXHJcblx0fSkpO1xyXG59O1xyXG5cclxuLy8g66eM66OM65CcIOuNsOydtO2EsCDsoJXrpqxcclxuX2NsZWFuU2F2ZWQoKTsiLCAiaW1wb3J0IHR5cGUgeyBTYXZlZFdpdGhFeHBpcmVzIH0gZnJvbSBcIi4vbW9kdWxlcy9AdHlwZXMvc2F2ZWQuanNcIjtcclxuXHJcbmltcG9ydCB7IGdldFNhdmVkLCBzZXRTYXZlZCB9IGZyb20gXCIuL21vZHVsZXMvc2F2ZWQuanNcIjtcclxuXHJcblxyXG5cclxuKCh7IGVkaXRvciB9KSA9PiB7XHJcblx0aWYobG9jYXRpb24ucGF0aG5hbWUgIT09IFwiL3N1Ym1pdHBhZ2UucGhwXCIpIHJldHVybjtcclxuXHQvL0B0cy1leHBlY3QtZXJyb3JcclxuXHRjb25zdCBlZGl0b3JFbGVtZW50ID0gZWRpdG9yLnRleHRJbnB1dC5nZXRFbGVtZW50KCkgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcclxuXHRjb25zdCBzYXZlZCA9IGdldFNhdmVkKCk7XHJcblxyXG5cdGNvbnN0IG9uSW5wdXQgPSAoZXZlbnQ6IEFjZUFqYXguRWRpdG9yQ2hhbmdlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XHJcblx0XHRjb25zdCB7IHJvdywgY29sdW1uIH0gPSBlZGl0b3Iuc2VsZWN0aW9uLmdldEN1cnNvcigpO1xyXG5cdFx0Y29uc3QgY3VycmVudENvZGUgPSBlZGl0b3Iuc2Vzc2lvbi5nZXRWYWx1ZSgpO1xyXG5cclxuXHRcdGlmKHJvdyAhPT0gMCAmJiBjb2x1bW4gIT09IDApIHtcclxuXHRcdFx0c2V0U2F2ZWQoe1xyXG5cdFx0XHRcdGNvZGU6IGN1cnJlbnRDb2RlLFxyXG5cdFx0XHRcdGN1cnNvcjoge1xyXG5cdFx0XHRcdFx0cm93OiByb3csXHJcblx0XHRcdFx0XHRjb2x1bW46IGNvbHVtblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgMTgwMDAwMCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblxyXG5cdGVkaXRvci5zZXRPcHRpb25zKHt1c2VTb2Z0VGFiczogZmFsc2V9KTtcclxuXHRlZGl0b3Iub24oJ2NsaWNrJywgb25JbnB1dCk7XHJcblx0Ly9lZGl0b3Iub24oJ2NoYW5nZScsIG9uSW5wdXQpO1xyXG5cdGVkaXRvckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uSW5wdXQpO1xyXG5cclxuXHRpZihzYXZlZCA9PT0gbnVsbCkge1xyXG5cdFx0Y29uc3QgY29kZSA9IGAjaW5jbHVkZSA8c3RkaW8uaD5cclxuXHJcbmludCBtYWluKCkge1xyXG5cXHRcclxuXFx0XHJcblxcdHJldHVybiAwO1xyXG59YDtcclxuXHRcdGVkaXRvci5zZXNzaW9uLnNldFZhbHVlKGAke2NvZGV9YCk7XHJcblx0XHRlZGl0b3IuZ290b0xpbmUoNCwgMSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGVkaXRvci5zZXNzaW9uLnNldFZhbHVlKGAke3NhdmVkLmNvZGV9YCk7XHJcblx0XHRlZGl0b3IuZ290b0xpbmUoc2F2ZWQuY3Vyc29yLnJvdyArIDEsIHNhdmVkLmN1cnNvci5jb2x1bW4pO1xyXG5cdH1cclxuXHRlZGl0b3IuZm9jdXMoKTtcclxufSkodW5zYWZlV2luZG93KTsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7O0FBRUEsR0FBTSxDQUFFLE9BQUFBLENBQU8sRUFBSSxhQUliQyxFQUFpQixTQUFTLGNBQWMsa0JBQWtCLEVBQXVCLE1BQzFFQyxFQUFjLFVBQVVELElBQ3hCRSxFQUFZLElBQStCLEtBQUssTUFBTSxhQUFhLFFBQVFELENBQVcsQ0FBRSxFQUN4RkUsRUFBZSxJQUFZLGFBQWEsV0FBV0YsQ0FBVyxFQUM5REcsRUFBYyxJQUFtQixDQUM3QyxJQUFNQyxFQUFRSCxFQUFVLEVBRXhCLE9BQUdHLElBQVUsS0FBYSxLQUN2QixLQUFLLElBQUksRUFBSUEsRUFBTSxTQUNyQkYsRUFBYSxFQUNOLElBQ00sSUFDZixFQUNhRyxFQUFXLElBQW9CLENBQzNDLElBQU1ELEVBQVFILEVBQVUsRUFDeEIsT0FBR0csSUFBVSxLQUFhLEtBRW5CQSxFQUFNLEtBQ2QsRUFDYUUsRUFBVyxDQUFDQyxFQUFZQyxJQUM3QixhQUFhLFFBQVFSLEVBQWEsS0FBSyxVQUFVLENBQ3ZELE1BQU9PLEVBQ1AsUUFBUyxLQUFLLElBQUksRUFBSUMsQ0FDdkIsQ0FBQyxDQUFDLEVBSUhMLEVBQVksR0MzQlgsQ0FBQyxDQUFFLE9BQUFNLENBQU8sSUFBTSxDQUNoQixHQUFHLFNBQVMsV0FBYSxrQkFBbUIsT0FFNUMsSUFBTUMsRUFBZ0JELEVBQU8sVUFBVSxXQUFXLEVBQzVDRSxFQUFRQyxFQUFTLEVBRWpCQyxFQUFXQyxHQUEyRCxDQUMzRSxHQUFNLENBQUUsSUFBQUMsRUFBSyxPQUFBQyxDQUFPLEVBQUlQLEVBQU8sVUFBVSxVQUFVLEVBQzdDUSxFQUFjUixFQUFPLFFBQVEsU0FBUyxFQUV6Q00sSUFBUSxHQUFLQyxJQUFXLEdBQzFCRSxFQUFTLENBQ1IsS0FBTUQsRUFDTixPQUFRLENBQ1AsSUFBS0YsRUFDTCxPQUFRQyxDQUNULENBQ0QsRUFBRyxJQUFPLENBRVosRUFRQSxHQUxBUCxFQUFPLFdBQVcsQ0FBQyxZQUFhLEVBQUssQ0FBQyxFQUN0Q0EsRUFBTyxHQUFHLFFBQVNJLENBQU8sRUFFMUJILEVBQWMsaUJBQWlCLFVBQVdHLENBQU8sRUFFOUNGLElBQVUsS0FBTSxDQUNsQixJQUFNUSxFQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBT2JWLEVBQU8sUUFBUSxTQUFTLEdBQUdVLEdBQU0sRUFDakNWLEVBQU8sU0FBUyxFQUFHLENBQUMsT0FFcEJBLEVBQU8sUUFBUSxTQUFTLEdBQUdFLEVBQU0sTUFBTSxFQUN2Q0YsRUFBTyxTQUFTRSxFQUFNLE9BQU8sSUFBTSxFQUFHQSxFQUFNLE9BQU8sTUFBTSxFQUUxREYsRUFBTyxNQUFNLENBQ2QsR0FBRyxZQUFZIiwKICAibmFtZXMiOiBbImVkaXRvciIsICJwcm9ibGVtTnVtYmVyIiwgInN0b3JhZ2VOYW1lIiwgIl9nZXRTYXZlZCIsICJfcmVtb3ZlU2F2ZWQiLCAiX2NsZWFuU2F2ZWQiLCAic2F2ZWQiLCAiZ2V0U2F2ZWQiLCAic2V0U2F2ZWQiLCAib2JqIiwgImV4cGlyZURhdGUiLCAiZWRpdG9yIiwgImVkaXRvckVsZW1lbnQiLCAic2F2ZWQiLCAiZ2V0U2F2ZWQiLCAib25JbnB1dCIsICJldmVudCIsICJyb3ciLCAiY29sdW1uIiwgImN1cnJlbnRDb2RlIiwgInNldFNhdmVkIiwgImNvZGUiXQp9Cg==
