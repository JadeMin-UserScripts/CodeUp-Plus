// ==UserScript==
// @name		CodeUp+
// @description	CodeUp+
// @version		0.1.1
// @icon		https://icons.duckduckgo.com/ip2/codeup.kr.ico
// @updateURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @downloadURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @match		https://*.codeup.kr/*
// @run-at		document-end
// ==/UserScript==
var g=document.querySelector("input#problem_id").value,d=18e5,c="editor",l=`${c}_${g}`,i=e=>{let o=`${c}_EXPIRES`;if(e!==void 0)localStorage.setItem(o,e.toString());else{let t=localStorage.getItem(o);if(t===null)return;Date.now()>+t&&localStorage.clear()}},u=()=>JSON.parse(localStorage.getItem(l)),m=e=>{i(Date.now()+d),localStorage.setItem(l,JSON.stringify(e))};console.log(i());(({editor:e})=>{if(location.pathname!=="/submitpage.php")return;let o=e.textInput.getElement(),t=u(),n=s=>{let{row:a,column:r}=e.selection.getCursor(),p=e.session.getValue();a!==0&&r!==0&&m({code:p,cursor:{row:a,column:r}})};if(e.setOptions({useSoftTabs:!1}),e.on("click",n),o.addEventListener("keydown",n),t===null){let s=`#include <stdio.h>

int main() {
	
	
	return 0;
}`;e.session.setValue(`${s}`),e.gotoLine(4,1)}else e.session.setValue(`${t.code}`),e.gotoLine(t.cursor.row+1,t.cursor.column);e.focus()})(unsafeWindow);
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3VzZXJzY3JpcHQvbW9kdWxlcy9zYXZlZC50cyIsICIuLi9zcmMvdXNlcnNjcmlwdC9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBTYXZlZCB9IGZyb20gXCIuL0B0eXBlcy9zYXZlZC5qc1wiO1xyXG5cclxuXHJcblxyXG5jb25zdCBwcm9ibGVtTnVtYmVyID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNwcm9ibGVtX2lkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5leHBvcnQgY29uc3QgZXhwaXJlRGF0ZSA9IDE4MDAwMDA7IC8vIDMw67aEXHJcbmV4cG9ydCBjb25zdCBzdG9yYWdlTlMgPSBcImVkaXRvclwiO1xyXG5leHBvcnQgY29uc3Qgc3RvcmFnZU5hbWUgPSBgJHtzdG9yYWdlTlN9XyR7cHJvYmxlbU51bWJlcn1gO1xyXG5leHBvcnQgY29uc3QgX2luaXRTdG9yYWdlID0gKHZhbHVlPzogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0Y29uc3QgX3N0b3JhZ2VOYW1lID0gYCR7c3RvcmFnZU5TfV9FWFBJUkVTYDtcclxuXHJcblx0aWYodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oX3N0b3JhZ2VOYW1lLCB2YWx1ZS50b1N0cmluZygpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y29uc3QgZXhwaXJlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKF9zdG9yYWdlTmFtZSk7XHJcblx0XHRpZihleHBpcmVzID09PSBudWxsKSByZXR1cm47XHJcblxyXG5cdFx0aWYoRGF0ZS5ub3coKSA+ICtleHBpcmVzKSBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuXHR9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRTYXZlZCA9ICgpOiBTYXZlZCB8IG51bGwgPT4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlTmFtZSkhKTtcclxuZXhwb3J0IGNvbnN0IHNldFNhdmVkID0gKG9iajogU2F2ZWQpOiB2b2lkID0+IHtcclxuXHRfaW5pdFN0b3JhZ2UoRGF0ZS5ub3coKSArIGV4cGlyZURhdGUpO1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VOYW1lLCBKU09OLnN0cmluZ2lmeShvYmopKTtcclxufTtcclxuXHJcbi8vIOunjOujjOuQnCDrjbDsnbTthLAg7KCV66asXHJcbmNvbnNvbGUubG9nKF9pbml0U3RvcmFnZSgpKTsiLCAiaW1wb3J0IHsgZ2V0U2F2ZWQsIHNldFNhdmVkIH0gZnJvbSBcIi4vbW9kdWxlcy9zYXZlZC5qc1wiO1xyXG5cclxuXHJcblxyXG4oKHsgZWRpdG9yIH0pID0+IHtcclxuXHRpZihsb2NhdGlvbi5wYXRobmFtZSAhPT0gXCIvc3VibWl0cGFnZS5waHBcIikgcmV0dXJuO1xyXG5cdC8vQHRzLWV4cGVjdC1lcnJvclxyXG5cdGNvbnN0IGVkaXRvckVsZW1lbnQgPSBlZGl0b3IudGV4dElucHV0LmdldEVsZW1lbnQoKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5cdGNvbnN0IHNhdmVkID0gZ2V0U2F2ZWQoKTtcclxuXHJcblx0Y29uc3Qgb25JbnB1dCA9IChldmVudDogQWNlQWpheC5FZGl0b3JDaGFuZ2VFdmVudCB8IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcclxuXHRcdGNvbnN0IHsgcm93LCBjb2x1bW4gfSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7XHJcblx0XHRjb25zdCBjdXJyZW50Q29kZSA9IGVkaXRvci5zZXNzaW9uLmdldFZhbHVlKCk7XHJcblxyXG5cdFx0aWYocm93ICE9PSAwICYmIGNvbHVtbiAhPT0gMCkge1xyXG5cdFx0XHRzZXRTYXZlZCh7XHJcblx0XHRcdFx0Y29kZTogY3VycmVudENvZGUsXHJcblx0XHRcdFx0Y3Vyc29yOiB7XHJcblx0XHRcdFx0XHRyb3c6IHJvdyxcclxuXHRcdFx0XHRcdGNvbHVtbjogY29sdW1uXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHJcblx0ZWRpdG9yLnNldE9wdGlvbnMoe3VzZVNvZnRUYWJzOiBmYWxzZX0pO1xyXG5cdGVkaXRvci5vbignY2xpY2snLCBvbklucHV0KTtcclxuXHQvL2VkaXRvci5vbignY2hhbmdlJywgb25JbnB1dCk7XHJcblx0ZWRpdG9yRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25JbnB1dCk7XHJcblxyXG5cdGlmKHNhdmVkID09PSBudWxsKSB7XHJcblx0XHRjb25zdCBjb2RlID0gYCNpbmNsdWRlIDxzdGRpby5oPlxyXG5cclxuaW50IG1haW4oKSB7XHJcblxcdFxyXG5cXHRcclxuXFx0cmV0dXJuIDA7XHJcbn1gO1xyXG5cdFx0ZWRpdG9yLnNlc3Npb24uc2V0VmFsdWUoYCR7Y29kZX1gKTtcclxuXHRcdGVkaXRvci5nb3RvTGluZSg0LCAxKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZWRpdG9yLnNlc3Npb24uc2V0VmFsdWUoYCR7c2F2ZWQuY29kZX1gKTtcclxuXHRcdGVkaXRvci5nb3RvTGluZShzYXZlZC5jdXJzb3Iucm93ICsgMSwgc2F2ZWQuY3Vyc29yLmNvbHVtbik7XHJcblx0fVxyXG5cdGVkaXRvci5mb2N1cygpO1xyXG59KSh1bnNhZmVXaW5kb3cpOyJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7QUFJQSxJQUFNQSxFQUFpQixTQUFTLGNBQWMsa0JBQWtCLEVBQXVCLE1BQzFFQyxFQUFhLEtBQ2JDLEVBQVksU0FDWkMsRUFBYyxHQUFHRCxLQUFhRixJQUM5QkksRUFBZ0JDLEdBQXlCLENBQ3JELElBQU1DLEVBQWUsR0FBR0osWUFFeEIsR0FBR0csSUFBVSxPQUNaLGFBQWEsUUFBUUMsRUFBY0QsRUFBTSxTQUFTLENBQUMsTUFDN0MsQ0FDTixJQUFNRSxFQUFVLGFBQWEsUUFBUUQsQ0FBWSxFQUNqRCxHQUFHQyxJQUFZLEtBQU0sT0FFbEIsS0FBSyxJQUFJLEVBQUksQ0FBQ0EsR0FBUyxhQUFhLE1BQU0sRUFFL0MsRUFDYUMsRUFBVyxJQUFvQixLQUFLLE1BQU0sYUFBYSxRQUFRTCxDQUFXLENBQUUsRUFDNUVNLEVBQVlDLEdBQXFCLENBQzdDTixFQUFhLEtBQUssSUFBSSxFQUFJSCxDQUFVLEVBQ3BDLGFBQWEsUUFBUUUsRUFBYSxLQUFLLFVBQVVPLENBQUcsQ0FBQyxDQUN0RCxFQUdBLFFBQVEsSUFBSU4sRUFBYSxDQUFDLEdDdkJ6QixDQUFDLENBQUUsT0FBQU8sQ0FBTyxJQUFNLENBQ2hCLEdBQUcsU0FBUyxXQUFhLGtCQUFtQixPQUU1QyxJQUFNQyxFQUFnQkQsRUFBTyxVQUFVLFdBQVcsRUFDNUNFLEVBQVFDLEVBQVMsRUFFakJDLEVBQVdDLEdBQTJELENBQzNFLEdBQU0sQ0FBRSxJQUFBQyxFQUFLLE9BQUFDLENBQU8sRUFBSVAsRUFBTyxVQUFVLFVBQVUsRUFDN0NRLEVBQWNSLEVBQU8sUUFBUSxTQUFTLEVBRXpDTSxJQUFRLEdBQUtDLElBQVcsR0FDMUJFLEVBQVMsQ0FDUixLQUFNRCxFQUNOLE9BQVEsQ0FDUCxJQUFLRixFQUNMLE9BQVFDLENBQ1QsQ0FDRCxDQUFDLENBRUgsRUFRQSxHQUxBUCxFQUFPLFdBQVcsQ0FBQyxZQUFhLEVBQUssQ0FBQyxFQUN0Q0EsRUFBTyxHQUFHLFFBQVNJLENBQU8sRUFFMUJILEVBQWMsaUJBQWlCLFVBQVdHLENBQU8sRUFFOUNGLElBQVUsS0FBTSxDQUNsQixJQUFNUSxFQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBT2JWLEVBQU8sUUFBUSxTQUFTLEdBQUdVLEdBQU0sRUFDakNWLEVBQU8sU0FBUyxFQUFHLENBQUMsT0FFcEJBLEVBQU8sUUFBUSxTQUFTLEdBQUdFLEVBQU0sTUFBTSxFQUN2Q0YsRUFBTyxTQUFTRSxFQUFNLE9BQU8sSUFBTSxFQUFHQSxFQUFNLE9BQU8sTUFBTSxFQUUxREYsRUFBTyxNQUFNLENBQ2QsR0FBRyxZQUFZIiwKICAibmFtZXMiOiBbInByb2JsZW1OdW1iZXIiLCAiZXhwaXJlRGF0ZSIsICJzdG9yYWdlTlMiLCAic3RvcmFnZU5hbWUiLCAiX2luaXRTdG9yYWdlIiwgInZhbHVlIiwgIl9zdG9yYWdlTmFtZSIsICJleHBpcmVzIiwgImdldFNhdmVkIiwgInNldFNhdmVkIiwgIm9iaiIsICJlZGl0b3IiLCAiZWRpdG9yRWxlbWVudCIsICJzYXZlZCIsICJnZXRTYXZlZCIsICJvbklucHV0IiwgImV2ZW50IiwgInJvdyIsICJjb2x1bW4iLCAiY3VycmVudENvZGUiLCAic2V0U2F2ZWQiLCAiY29kZSJdCn0K
