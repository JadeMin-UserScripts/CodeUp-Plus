// ==UserScript==
// @name		CodeUp+
// @description	CodeUp+
// @version		0.1.1
// @icon		https://icons.duckduckgo.com/ip2/codeup.kr.ico
// @updateURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @downloadURL	https://github.com/JadeMin-UserScripts/CodeUp-Plus/raw/dist/index.user.js
// @match		https://*.codeup.kr/*
// @run-at		document-end
// ==/UserScript==
var{editor:S}=unsafeWindow,p=document.querySelector("input#problem_id").value,o=`editor_${p}`,u=()=>JSON.parse(localStorage.getItem(o)),v=()=>localStorage.removeItem(o),m=()=>{let e=u();return e===null?null:Date.now()>e.expires?(v(),!0):null},c=()=>{let e=u();return e===null?null:e.value},i=(e,n)=>localStorage.setItem(o,JSON.stringify({value:e,expires:Date.now()+n}));m();(({editor:e})=>{if(location.pathname!=="/submitpage.php")return;let n=e.textInput.getElement(),t=c(),s=r=>{let{row:a,column:l}=e.selection.getCursor(),d=e.session.getValue();a!==0&&l!==0&&i({code:d,cursor:{row:a,column:l}},5e3)};if(e.setOptions({useSoftTabs:!1}),e.on("click",s),n.addEventListener("keydown",s),t===null){let r=`#include <stdio.h>

int main() {
	
	
	return 0;
}`;e.session.setValue(`${r}`),e.gotoLine(4,1)}else e.session.setValue(`${t.code}`),e.gotoLine(t.cursor.row+1,t.cursor.column);e.focus()})(unsafeWindow);
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21vZHVsZXMvc2F2ZWQudHMiLCAiLi4vc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgdHlwZSB7IFNhdmVkLCBTYXZlZFdpdGhFeHBpcmVzIH0gZnJvbSBcIi4vQHR5cGVzL3NhdmVkLmpzXCI7XHJcblxyXG5jb25zdCB7IGVkaXRvciB9ID0gdW5zYWZlV2luZG93O1xyXG5cclxuXHJcblxyXG5jb25zdCBwcm9ibGVtTnVtYmVyID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCNwcm9ibGVtX2lkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5leHBvcnQgY29uc3Qgc3RvcmFnZU5hbWUgPSBgZWRpdG9yXyR7cHJvYmxlbU51bWJlcn1gO1xyXG5leHBvcnQgY29uc3QgX2dldFNhdmVkID0gKCk6IFNhdmVkV2l0aEV4cGlyZXMgfCBudWxsID0+IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZU5hbWUpISk7XHJcbmV4cG9ydCBjb25zdCBfcmVtb3ZlU2F2ZWQgPSAoKTogdm9pZCA9PiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlTmFtZSk7XHJcbmV4cG9ydCBjb25zdCBfY2xlYW5TYXZlZCA9ICgpOiB0cnVlIHwgbnVsbCA9PiB7XHJcblx0Y29uc3Qgc2F2ZWQgPSBfZ2V0U2F2ZWQoKTtcclxuXHJcblx0aWYoc2F2ZWQgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cdGlmKERhdGUubm93KCkgPiBzYXZlZC5leHBpcmVzKSB7XHJcblx0XHRfcmVtb3ZlU2F2ZWQoKTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0gZWxzZSByZXR1cm4gbnVsbDtcclxufTtcclxuZXhwb3J0IGNvbnN0IGdldFNhdmVkID0gKCk6IFNhdmVkIHwgbnVsbCA9PiB7XHJcblx0Y29uc3Qgc2F2ZWQgPSBfZ2V0U2F2ZWQoKTtcclxuXHRpZihzYXZlZCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG5cdHJldHVybiBzYXZlZC52YWx1ZTtcclxufTtcclxuZXhwb3J0IGNvbnN0IHNldFNhdmVkID0gKG9iajogU2F2ZWQsIGV4cGlyZURhdGU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdHJldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlTmFtZSwgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0dmFsdWU6IG9iaixcclxuXHRcdGV4cGlyZXM6IERhdGUubm93KCkgKyBleHBpcmVEYXRlXHJcblx0fSkpO1xyXG59O1xyXG5cclxuLy8g7LSI6riw7ZmUXHJcbl9jbGVhblNhdmVkKCk7IiwgImltcG9ydCB0eXBlIHsgU2F2ZWRXaXRoRXhwaXJlcyB9IGZyb20gXCIuL21vZHVsZXMvQHR5cGVzL3NhdmVkLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBnZXRTYXZlZCwgc2V0U2F2ZWQgfSBmcm9tIFwiLi9tb2R1bGVzL3NhdmVkLmpzXCI7XHJcblxyXG5cclxuXHJcbigoeyBlZGl0b3IgfSkgPT4ge1xyXG5cdGlmKGxvY2F0aW9uLnBhdGhuYW1lICE9PSBcIi9zdWJtaXRwYWdlLnBocFwiKSByZXR1cm47XHJcblx0Ly9AdHMtZXhwZWN0LWVycm9yXHJcblx0Y29uc3QgZWRpdG9yRWxlbWVudCA9IGVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcblx0Y29uc3Qgc2F2ZWQgPSBnZXRTYXZlZCgpO1xyXG5cclxuXHRjb25zdCBvbklucHV0ID0gKGV2ZW50OiBBY2VBamF4LkVkaXRvckNoYW5nZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xyXG5cdFx0Y29uc3QgeyByb3csIGNvbHVtbiB9ID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRDdXJzb3IoKTtcclxuXHRcdGNvbnN0IGN1cnJlbnRDb2RlID0gZWRpdG9yLnNlc3Npb24uZ2V0VmFsdWUoKTtcclxuXHJcblx0XHRpZihyb3cgIT09IDAgJiYgY29sdW1uICE9PSAwKSB7XHJcblx0XHRcdHNldFNhdmVkKHtcclxuXHRcdFx0XHRjb2RlOiBjdXJyZW50Q29kZSxcclxuXHRcdFx0XHRjdXJzb3I6IHtcclxuXHRcdFx0XHRcdHJvdzogcm93LFxyXG5cdFx0XHRcdFx0Y29sdW1uOiBjb2x1bW5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIDUwMDApO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHRlZGl0b3Iuc2V0T3B0aW9ucyh7dXNlU29mdFRhYnM6IGZhbHNlfSk7XHJcblx0ZWRpdG9yLm9uKCdjbGljaycsIG9uSW5wdXQpO1xyXG5cdC8vZWRpdG9yLm9uKCdjaGFuZ2UnLCBvbklucHV0KTtcclxuXHRlZGl0b3JFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbklucHV0KTtcclxuXHJcblx0aWYoc2F2ZWQgPT09IG51bGwpIHtcclxuXHRcdGNvbnN0IGNvZGUgPSBgI2luY2x1ZGUgPHN0ZGlvLmg+XHJcblxyXG5pbnQgbWFpbigpIHtcclxuXFx0XHJcblxcdFxyXG5cXHRyZXR1cm4gMDtcclxufWA7XHJcblx0XHRlZGl0b3Iuc2Vzc2lvbi5zZXRWYWx1ZShgJHtjb2RlfWApO1xyXG5cdFx0ZWRpdG9yLmdvdG9MaW5lKDQsIDEpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlZGl0b3Iuc2Vzc2lvbi5zZXRWYWx1ZShgJHtzYXZlZC5jb2RlfWApO1xyXG5cdFx0ZWRpdG9yLmdvdG9MaW5lKHNhdmVkLmN1cnNvci5yb3cgKyAxLCBzYXZlZC5jdXJzb3IuY29sdW1uKTtcclxuXHR9XHJcblx0ZWRpdG9yLmZvY3VzKCk7XHJcbn0pKHVuc2FmZVdpbmRvdyk7Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7OztBQUVBLEdBQU0sQ0FBRSxPQUFBQSxDQUFPLEVBQUksYUFJYkMsRUFBaUIsU0FBUyxjQUFjLGtCQUFrQixFQUF1QixNQUMxRUMsRUFBYyxVQUFVRCxJQUN4QkUsRUFBWSxJQUErQixLQUFLLE1BQU0sYUFBYSxRQUFRRCxDQUFXLENBQUUsRUFDeEZFLEVBQWUsSUFBWSxhQUFhLFdBQVdGLENBQVcsRUFDOURHLEVBQWMsSUFBbUIsQ0FDN0MsSUFBTUMsRUFBUUgsRUFBVSxFQUV4QixPQUFHRyxJQUFVLEtBQWEsS0FDdkIsS0FBSyxJQUFJLEVBQUlBLEVBQU0sU0FDckJGLEVBQWEsRUFDTixJQUNNLElBQ2YsRUFDYUcsRUFBVyxJQUFvQixDQUMzQyxJQUFNRCxFQUFRSCxFQUFVLEVBQ3hCLE9BQUdHLElBQVUsS0FBYSxLQUVuQkEsRUFBTSxLQUNkLEVBQ2FFLEVBQVcsQ0FBQ0MsRUFBWUMsSUFDN0IsYUFBYSxRQUFRUixFQUFhLEtBQUssVUFBVSxDQUN2RCxNQUFPTyxFQUNQLFFBQVMsS0FBSyxJQUFJLEVBQUlDLENBQ3ZCLENBQUMsQ0FBQyxFQUlITCxFQUFZLEdDM0JYLENBQUMsQ0FBRSxPQUFBTSxDQUFPLElBQU0sQ0FDaEIsR0FBRyxTQUFTLFdBQWEsa0JBQW1CLE9BRTVDLElBQU1DLEVBQWdCRCxFQUFPLFVBQVUsV0FBVyxFQUM1Q0UsRUFBUUMsRUFBUyxFQUVqQkMsRUFBV0MsR0FBMkQsQ0FDM0UsR0FBTSxDQUFFLElBQUFDLEVBQUssT0FBQUMsQ0FBTyxFQUFJUCxFQUFPLFVBQVUsVUFBVSxFQUM3Q1EsRUFBY1IsRUFBTyxRQUFRLFNBQVMsRUFFekNNLElBQVEsR0FBS0MsSUFBVyxHQUMxQkUsRUFBUyxDQUNSLEtBQU1ELEVBQ04sT0FBUSxDQUNQLElBQUtGLEVBQ0wsT0FBUUMsQ0FDVCxDQUNELEVBQUcsR0FBSSxDQUVULEVBUUEsR0FMQVAsRUFBTyxXQUFXLENBQUMsWUFBYSxFQUFLLENBQUMsRUFDdENBLEVBQU8sR0FBRyxRQUFTSSxDQUFPLEVBRTFCSCxFQUFjLGlCQUFpQixVQUFXRyxDQUFPLEVBRTlDRixJQUFVLEtBQU0sQ0FDbEIsSUFBTVEsRUFBTztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQU9iVixFQUFPLFFBQVEsU0FBUyxHQUFHVSxHQUFNLEVBQ2pDVixFQUFPLFNBQVMsRUFBRyxDQUFDLE9BRXBCQSxFQUFPLFFBQVEsU0FBUyxHQUFHRSxFQUFNLE1BQU0sRUFDdkNGLEVBQU8sU0FBU0UsRUFBTSxPQUFPLElBQU0sRUFBR0EsRUFBTSxPQUFPLE1BQU0sRUFFMURGLEVBQU8sTUFBTSxDQUNkLEdBQUcsWUFBWSIsCiAgIm5hbWVzIjogWyJlZGl0b3IiLCAicHJvYmxlbU51bWJlciIsICJzdG9yYWdlTmFtZSIsICJfZ2V0U2F2ZWQiLCAiX3JlbW92ZVNhdmVkIiwgIl9jbGVhblNhdmVkIiwgInNhdmVkIiwgImdldFNhdmVkIiwgInNldFNhdmVkIiwgIm9iaiIsICJleHBpcmVEYXRlIiwgImVkaXRvciIsICJlZGl0b3JFbGVtZW50IiwgInNhdmVkIiwgImdldFNhdmVkIiwgIm9uSW5wdXQiLCAiZXZlbnQiLCAicm93IiwgImNvbHVtbiIsICJjdXJyZW50Q29kZSIsICJzZXRTYXZlZCIsICJjb2RlIl0KfQo=
